const webinars = {
    solutions: [{
            title: "MSE Wall Systems from Cirtex",
            date: "30/03/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/2udebsybei?seo=false&videoFoam=true" title="Cirtex Webinar - MSE Walls - 30/03/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Ground breaking innocation with Triton Vault",
            date: "08/04/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/l1h2yi6wnk?seo=false&videoFoam=true" title="Cirtex Webinar - Triton Vault - 08/04/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Platipus Earth Anchors",
            date: "09/04/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/htpdd34kx0?seo=false&videoFoam=true" title="Cirtex Webinar - Platipus Earth Anchors - 09/04/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Case Studies Part 1",
            date: "15/04/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/jca4zpt8y4?seo=false&videoFoam=true" title="Cirtex Webinar - Case Studies Part 1 - 15/04/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Pavements & CAPLab",
            date: "14/04/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/b33n6swhgr?seo=false&videoFoam=true" title="Cirtex Webinar - Pavements &amp; CAPLab - 17/04/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Erosion Control Blankets & TRMs",
            date: "21/04/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/up9nl0iui5?seo=false&videoFoam=true" title="Cirtex Webinar - Erosion Control Blankets &amp; TRMs - 21/04/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Case Studies Part 2",
            date: "23/04/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/hemlsnd0l8?seo=false&videoFoam=true" title="Cirtex Webinar - Case Studies Part 2 - 23/04/20 Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }],
    esc: [{
            title: "The Principles of E&SC",
            date: "01/09/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/qz22xg1kdc?seo=false&videoFoam=true" title="Cirtex E&amp;SC Webinar - The Principles of E&amp;SC Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "E&SC & Stabilisation Practices",
            date: "08/09/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/lq9wagytx1?seo=false&videoFoam=true" title="Cirtex E&amp;SC Webinar - E&amp;SC &amp; Stabilisation Practices Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Sediment Ponds, DEBs & Flocculation",
            date: "15/09/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/nuv26kpcgo?seo=false&videoFoam=true" title="Cirtex E&amp;SC Webinar - Sediment Ponds, DEBs &amp; Flocculation Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "SiltFence, Curtains & Cesspits",
            date: "22/09/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/68h1medrci?seo=false&videoFoam=true" title="Cirtex E&amp;SC Webinar - SiltFence, Curtains &amp; Cesspits Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Dewatering, Streamworks, Dust Control & Specific Activities",
            date: "29/09/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/l07d68njzx?seo=false&videoFoam=true" title="E&amp;SC Webinar - Dewatering, Streamworks, Dust Control &amp; Specific Activities Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Small Sites",
            date: "06/10/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/mykvdwbfew?seo=false&videoFoam=true" title="E&amp;SC Webinar - Small Sites Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }, {
            title: "Cirtex Offerings & Wrap Up",
            date: "13/10/20",
            player: `<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><iframe src="https://fast.wistia.net/embed/iframe/wm4o56v90h?seo=false&videoFoam=true" title="E&amp;SC Webinar - Cirtex Offerings &amp; Wrap Up Video" allow="autoplay; fullscreen" allowtransparency="true" frameborder="0" scrolling="no" class="wistia_embed" name="wistia_embed" allowfullscreen msallowfullscreen width="100%" height="100%"></iframe></div></div>
            <script src="https://fast.wistia.net/assets/external/E-v1.js" async></script>`
        }
    ]
}

const renderWebinars = `
    <h2>Cirtex Academy </h2>
    <br>
    <h4>Solutions Overview</h4>
    <div id="solutionsWebinars"></div>
    <br>
    <h4>Eosion & Sediment Control</h4>
    <div id="escWebinars"></div>
    `
document.querySelector('#academyContent').insertAdjacentHTML('beforeend', renderWebinars)

getWebinar('solutions')
getWebinar('esc')

function getWebinar(series) {
    let vids = webinars[`${series}`]
    for(i = 0; i < vids.length; i++) {
        let date = document.createElement('p')
        date.innerHTML = vids[i].date
        let title = document.createElement('p')
        title.className = "accordion accordion-info"
        title.innerHTML = vids[i].title
        title.appendChild(date)
        document.querySelector(`#${series}Webinars`).appendChild(title)
        let vid = document.createElement('div')
        vid.className = "panel"
        vid.innerHTML = vids[i].player
        document.querySelector(`#${series}Webinars`).appendChild(vid)
    }
}

// Accordion Function
var acc = document.getElementsByClassName("accordion")

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active")
    document.querySelector('#lights').style.display = "block"
    let videos = document.querySelectorAll('.wistia_responsive_padding')
    for (i = 0; i < videos.length; i++) {
        videos[i].style.zIndex = "99"
    }
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px"
    } 
  });
}

function lightsOn() {
    document.querySelector('#lights').style.display = "none"
    let videos = document.querySelectorAll('.wistia_responsive_padding')
    for (i = 0; i < videos.length; i++) {
        videos[i].style.zIndex = "1"
    }
}